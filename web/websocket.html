<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>WebSocket</title>
    <script src="jquery-2.1.3.js"></script>
</head>
<body>
WebSocket
<script>
    var socket;
    $.ajax({
        url: 'mysocket',
        success: function (data) {
            // socket 接口初始化完成
            console.log(data);

            var host = 'ws://172.20.131.91:8888/';
            // 和服务器建立socket连接，信道建立
            socket = new WebSocket(host);
            socket.onopen = function () {
                socket.send('确认已开启WebSocket链接');
            };

            socket.onmessage = function (message) {
                var msg = '来自服务器的WebSocket信息：' + message.data;
                console.log(msg);
                document.write(msg + '，');
            };

            socket.onerror = function (error) {
                console.log('WebSocket 链接错误: ' + error);
            };
        },
        error: function (data) {
            console.log(data);
        }
    })

</script>
</body>
</html>